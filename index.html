<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PRIME90.PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body {
    background:#050505;
    font-family: Inter, sans-serif;
    color:white;
    padding:20px;
}
.header {
    font-size:28px;
    font-weight:700;
    text-align:center;
    margin-bottom:20px;
}
.card {
    background:#0b0b0b;
    padding:20px;
    border-radius:40px;
    margin-bottom:20px;
    box-shadow:0 0 20px rgba(0,242,255,0.1);
}
.hidden-key {
    opacity:0.1;
    font-size:10px;
}
button {
    background:#00f2ff;
    border:none;
    padding:12px 20px;
    border-radius:30px;
    font-weight:600;
    cursor:pointer;
    margin:5px 0;
}
button:hover {background:#00c8d9;}
.match-btn {
    display:block;
    width:100%;
    text-align:left;
}
.bar {
    width:100%;
    background:#111;
    border-radius:20px;
    overflow:hidden;
    height:20px;
    margin:8px 0;
}
.bar-inner {
    height:100%;
    background:#00f2ff;
    width:0%;
    transition:1s;
}
.gold {
    color:#ffcc00;
    font-weight:700;
}
</style>
</head>

<body>

<div class="header">âš¡ PRIME90.PRO</div>

<div class="card hidden-key">
    API KEY: <input id="apiKeyInput" placeholder="Enter Gemini API Key">
</div>

<div class="card">
    <button onclick="loadMatches()">ðŸš€ Load Today Matches</button>
    <div id="matches"></div>
</div>

<div class="card" id="analysisCard" style="display:none;">
    <h3 id="matchTitle"></h3>

    <div>Over 0.5 HT</div>
    <div class="bar"><div id="barHT" class="bar-inner"></div></div>

    <div>Over 2.5 FT</div>
    <div class="bar"><div id="barFT" class="bar-inner"></div></div>

    <div id="confidence"></div>
    <div id="pick" class="gold"></div>
</div>

<script>
const API_URL = "https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent";

const keyInput = document.getElementById("apiKeyInput");
keyInput.value = localStorage.getItem("geminiKey") || "";
keyInput.onchange = ()=> localStorage.setItem("geminiKey", keyInput.value);

function getKey() {
    return localStorage.getItem("geminiKey");
}

async function geminiRequest(prompt){
    const key = getKey();
    if(!key) return alert("Enter API Key first!");

    const res = await fetch(API_URL + "?key=" + key, {
        method:"POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({
            contents:[{parts:[{text: prompt}]}]
        })
    });
    const data = await res.json();
    return data.candidates[0].content.parts[0].text;
}

async function loadMatches(){
    document.getElementById("matches").innerHTML = "Loading...";

    const prompt = `
Search Google for major football matches today Feb 20 2026.
Return list only, one match per line.
`;

    const text = await geminiRequest(prompt);
    const matches = text.split("\n").filter(x=>x.includes(" vs "));
    let html="";
    matches.forEach(m=>{
        html += `<button class="match-btn" onclick="analyzeMatch('${m.replace(/'/g,"")}')">${m}</button>`;
    });
    document.getElementById("matches").innerHTML = html;
}

async function analyzeMatch(match){
    document.getElementById("analysisCard").style.display="block";
    document.getElementById("matchTitle").innerText = match;

    const prompt = `
Analyze football match: ${match}
Return ONLY JSON:
{
"over05ht": number,
"over25ft": number,
"confidence": number,
"pick": "text"
}
`;

    const text = await geminiRequest(prompt);
    const jsonMatch = text.match(/\{[\s\S]*\}/);
    const data = JSON.parse(jsonMatch[0]);

    document.getElementById("barHT").style.width = data.over05ht + "%";
    document.getElementById("barFT").style.width = data.over25ft + "%";
    document.getElementById("confidence").innerText = "Confidence: " + data.confidence + "%";
    document.getElementById("pick").innerText = "ðŸ”¥ PICK: " + data.pick;
}
</script>

</body>
</html>
