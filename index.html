async function fetchMatches() {
    const container = document.getElementById('match-container');
    container.innerHTML = '<div class="text-center py-10 text-yellow-400 animate-pulse">ü§ñ AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥...</div>'; 

    try {
        const response = await fetch(API_URL);
        const data = await response.json();
        
        container.innerHTML = ''; 

        // üåü ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á "‡∏™‡πÄ‡∏ï‡πá‡∏õ 3 ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á"
        if(data.step && data.step.length > 0) {
            let stepHtml = `
                <div class="bg-gradient-to-r from-yellow-600 via-red-600 to-yellow-600 p-[2px] rounded-2xl mb-10 shadow-[0_0_20px_rgba(234,179,8,0.4)]">
                    <div class="bg-slate-900 rounded-2xl p-6 text-center">
                        <h2 class="text-2xl font-black text-yellow-400 mb-3 tracking-tighter">üî• AI ‡∏Ñ‡∏±‡∏î‡∏™‡πÄ‡∏ï‡πá‡∏õ 3 ‡∏ï‡∏±‡∏ß‡∏ï‡∏£‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ üî•</h2>
                        <div class="flex justify-center gap-4 flex-wrap">
                            ${data.step.map(team => `<span class="bg-slate-800 px-4 py-2 rounded-lg border border-yellow-500/30 font-bold text-white text-lg">${team}</span>`).join('')}
                        </div>
                    </div>
                </div>`;
            container.innerHTML = stepHtml;
        }

        data.matches.forEach(match => {
            const isHighConfidence = match.confidence >= 90;
            const card = `
                <div class="bg-slate-800/80 backdrop-blur-md rounded-3xl overflow-hidden shadow-2xl border ${isHighConfidence ? 'border-yellow-500 shadow-yellow-500/10' : 'border-slate-700'} mb-8 transition-all hover:scale-[1.01]">
                    <div class="bg-slate-900/50 px-6 py-3 flex justify-between items-center border-b border-slate-700/50">
                        <span class="text-[10px] font-bold text-gray-400 tracking-widest uppercase">${match.league}</span>
                        <div class="flex items-center gap-2">
                            <span class="text-[11px] font-bold text-yellow-500">${match.date_text}</span>
                            <span class="text-[11px] font-black bg-yellow-500 text-black px-2 py-0.5 rounded">${match.time} ‡∏ô.</span>
                        </div>
                    </div>

                    <div class="p-6">
                        <div class="flex justify-between items-center mb-8 px-2">
                            <div class="w-1/3 text-center">
                                <img src="${match.logo_home}" class="w-16 h-16 mx-auto mb-3 drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]">
                                <p class="font-bold text-sm leading-tight">${match.team_home}</p>
                            </div>
                            <div class="w-1/3 text-center">
                                <span class="text-3xl font-black text-slate-700 italic">VS</span>
                                ${isHighConfidence ? '<div class="mt-2 text-[10px] text-yellow-500 font-bold animate-pulse">‚≠ê AI ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏™‡∏π‡∏á</div>' : ''}
                            </div>
                            <div class="w-1/3 text-center">
                                <img src="${match.logo_away}" class="w-16 h-16 mx-auto mb-3 drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]">
                                <p class="font-bold text-sm leading-tight">${match.team_away}</p>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-3 mb-6">
                            <div class="bg-slate-900/80 p-3 rounded-xl border border-slate-700">
                                <p class="text-[10px] text-gray-500 mb-1">‡∏ü‡∏±‡∏ô‡∏ò‡∏á ‡∏ï‡πà‡∏≠/‡∏£‡∏≠‡∏á</p>
                                <p class="text-sm font-black text-green-400">${match.handicap_pick}</p>
                            </div>
                            <div class="bg-slate-900/80 p-3 rounded-xl border border-slate-700">
                                <p class="text-[10px] text-gray-500 mb-1">‡∏ä‡∏±‡∏ß‡∏£‡πå‡∏™‡∏∏‡∏î (Best Bet)</p>
                                <p class="text-sm font-black text-yellow-400">${match.best_bet}</p>
                            </div>
                            <div class="bg-slate-900/80 p-3 rounded-xl border border-slate-700">
                                <p class="text-[10px] text-gray-500 mb-1">‡∏™‡∏π‡∏á/‡∏ï‡πà‡∏≥ ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÅ‡∏£‡∏Å</p>
                                <p class="text-sm font-bold text-white">${match.ht_ou}</p>
                            </div>
                            <div class="bg-slate-900/80 p-3 rounded-xl border border-slate-700">
                                <p class="text-[10px] text-gray-500 mb-1">‡∏™‡∏π‡∏á/‡∏ï‡πà‡∏≥ ‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ß‡∏•‡∏≤</p>
                                <p class="text-sm font-bold text-white">${match.ft_ou}</p>
                            </div>
                        </div>

                        <div class="bg-yellow-500/10 p-4 rounded-xl border-l-4 border-yellow-500">
                            <p class="text-xs text-gray-300 leading-relaxed italic">
                                <span class="text-yellow-500 font-bold not-italic">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</span> ${match.reason}
                            </p>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML += card;
        });
    } catch (e) {
        container.innerHTML = '<div class="text-center text-red-500">‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>';
    }
}
